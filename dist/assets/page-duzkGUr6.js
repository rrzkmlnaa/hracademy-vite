import{r as x,j as e,u as v}from"./index-Dn9HgVtz.js";import{A as S}from"./ArrowLink-CHUTro2V.js";import{R as C}from"./resource-B45xff2g.js";import{B as R}from"./Button-yeYjnd3P.js";import{C as h,T,a as E}from"./ContactFormInput-JeO26ajo.js";import{d as F}from"./DownloadFile-B-ZxQH0T.js";import"./utils-CsICGuRb.js";import"./UnderlineLink-DRwryOgD.js";import"./UnstyledLink-DhQZhRg6.js";import"./index-BOVz4qBP.js";const b=m=>{const{fullname:s,email:n,whatsapp:o,industry:d,careerRole:r}=m,a={};return s!=null&&s.trim()?s.trim().length<3&&(a.fullname="Full Name should be at least 3 characters"):a.fullname="Full Name is required",n!=null&&n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(a.email="Invalid email format"):a.email="Email is required",o!=null&&o.trim()?/^\+\d{1,3}\s?\d{1,14}$/.test(o)?o.startsWith("0")&&(a.whatsapp="WhatsApp number cannot start with +0, use format + (country code)"):a.whatsapp="Invalid WhatsApp number format":a.whatsapp="WhatsApp number is required",o!=null&&o.trim().replace(/\s/g,"").startsWith("+")||(a.whatsapp="WhatsApp number must start with + (Country Code )"),d!=null&&d.trim()||(a.industry="Industry is required"),r!=null&&r.trim()||(a.careerRole="Career Role is required"),a},A=m=>Object.values(m).some(s=>!!s),k={fullname:"",email:"",whatsapp:"",industry:"",careerRole:""},q=({fileDownload:m})=>{const[s,n]=x.useState(k),[o,d]=x.useState(!1),[r,a]=x.useState({}),[c,y]=x.useState(!1),[w,g]=x.useState([]),u=t=>{const{name:i,value:l}=t.target;if(i==="whatsapp"){const p=l.replace(/\s/g,"");n({...s,whatsapp:p})}else n({...s,[i]:l});if(c){const p=b({...s,[i]:l});a(p)}},N=async t=>{t.preventDefault(),d(!0),y(!0);const i=b(s);if(a(i),A(i)){d(!1);return}try{const l=await fetch("/api/resourceSubmitForm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok)throw new Error("Failed to submit form");await l.json(),j("success","Submit Successfully."),F(m,"template-cv-hra.pdf")}catch{j("danger","An error occurred while submitting the form.")}finally{d(!1)}},j=(t,i)=>{const l={id:Date.now(),type:t,message:i};g(p=>[l,...p]),setTimeout(()=>{f(l.id)},5e3)},f=t=>{g(i=>i.filter(l=>l.id!==t))};return e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:N,className:"flex flex-col gap-3 py-3",children:[e.jsx(h,{label:"Full Name",name:"fullname",required:!0,placeholder:"Lee Min Ho",value:s.fullname,onChange:u}),c&&r.fullname&&e.jsx("p",{className:"text-red-600 text-sm",children:r.fullname}),e.jsx(h,{label:"Email",name:"email",required:!0,placeholder:"example@gmail.com",value:s.email,onChange:u}),c&&r.email&&e.jsx("p",{className:"text-red-600 text-sm",children:r.email}),e.jsx(h,{label:"WhatsApp Number",name:"whatsapp",required:!0,placeholder:"+62 345 678 910",value:s.whatsapp,onChange:u}),c&&r.whatsapp&&e.jsx("p",{className:"text-red-600 text-sm",children:r.whatsapp}),e.jsx(h,{label:"Industry",name:"industry",required:!0,placeholder:"Banking",value:s.industry,onChange:u}),c&&r.industry&&e.jsx("p",{className:"text-red-600 text-sm",children:r.industry}),e.jsxs("label",{htmlFor:"careerRole",className:"block text-sm font-medium leading-6 text-gray-900",children:["Where Are You In Your Career ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("select",{required:!0,name:"careerRole",id:"careerRole",className:"block w-full rounded-md border-0 py-1.5 pl-4 pr-8.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",value:s.careerRole,onChange:u,children:[e.jsx("option",{value:"",disabled:!0,children:"Select an option"}),e.jsxs("option",{value:"Student (< 1 Tahun)",children:["Student (","<"," 1 Tahun)"]}),e.jsx("option",{value:"Early Career (1 - 5 Years)",children:"Early Career (1 - 5 Years)"}),e.jsx("option",{value:"Professionals (6+ years)",children:"Professionals (6+ years)"})]}),c&&r.careerRole&&e.jsx("p",{className:"text-red-600 text-sm",children:r.careerRole}),e.jsx("div",{className:"w-full mt-3",children:e.jsx(R,{type:"submit",variant:"yellow",size:"base",className:"w-full flex justify-center border-none",disabled:o,children:"Submit Enquiry"})})]}),e.jsx("div",{className:"fixed top-24 right-5",children:w.map(t=>e.jsx("div",{className:`mt-2 ${t.type==="success"?"toast-success":"toast-danger"}`,children:t.type==="success"?e.jsx(T,{message:t.message,onClose:()=>f(t.id)}):e.jsx(E,{message:t.message,onClose:()=>f(t.id)})},t.id))})]})},_=()=>{const{slug:m}=v(),s=C.find(n=>n.slug===m);return s?e.jsxs("section",{className:"sm:max-w-screen-sm md:max-w-screen-md lg:max-w-screen-lg xl:max-w-screen-xl mx-auto w-full h-auto",children:[e.jsx("h1",{className:"text-center font-bold text-4xl mt-5",children:"HR Academy Resume Template"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 px-5 xl:px-0 py-10 md:py-20",children:[e.jsxs("div",{className:"relative flex flex-col gap-2",children:[e.jsx("h4",{className:"text-primary font-bold text-lg",children:"JOB SEARCH RESOURCES"}),e.jsx("h5",{className:"font-bold text-3xl",children:"Get your free resource"}),e.jsx("p",{className:"w-5/6",children:"Get your free resource The famous Wonsulting resume template! It's landed tons of jobs. Take control of your career today, or work with one of our career consultants to get hired."}),e.jsx("div",{className:"block",children:e.jsx(S,{to:"/",direction:"right",className:"text-primary",children:"Go Back"})}),e.jsxs("div",{className:"relative flex justify-center mt-4",children:[e.jsx("img",{src:"/images/resume-testing.png",alt:s.title,className:"w-auto h-96 object-cover"}),e.jsx("div",{className:"absolute pointer-events-none"})]})]}),e.jsxs("div",{className:"max-w-screen-xl w-full border-2 border-primary bg-sky-50 rounded-xl shadow-[16px_0_40px_#e4e4e4] p-5 h-auto",children:[e.jsx("h4",{className:"pt-10 pb-5 font-bold text-3xl",children:"HR Academy"}),e.jsx("p",{children:"Just a few details before we send you our resume template!"}),e.jsx(q,{fileDownload:s.documentPATH})]})]})]}):e.jsx("div",{children:"Page Not Found"})};export{_ as default};
